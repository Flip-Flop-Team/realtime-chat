de5bc800b043d3daf2521ca85651d359
const request = require('supertest');

const app = require('../../src/app');

module.exports = {
  //###User Controller###
  registerUser: async (username, email, password) => {
    return await request(app).post('/registerUser').send({
      username,
      email,
      password
    }).then(response => response).catch(err => err);
  },
  listUsers: async () => {
    return await request(app).get('/listUsers').then(response => response).catch(err => err);
  },
  getUser: async id => {
    return await request(app).get(`/getUser/${id}`).then(response => response).catch(err => err);
  },
  deleteUser: async id => {
    return await request(app).delete(`/deleteUser/${id}`).then(response => response).catch(err => err);
  },
  updateUser: async (id, info) => {
    return await request(app).put(`/updateUser/${id}`).send(info).then(response => response).catch(err => err);
  },
  //###Session Controller###
  loginUser: async (email, password) => {
    return await request(app).post('/loginUser').send({
      email,
      password
    }).then(response => response).catch(err => err);
  },
  //###Chat Controller###
  registerChat: async title => {
    return await request(app).post('/registerChat').send({
      title
    }).then(response => response).catch(err => err);
  },
  listChats: async () => {
    return await request(app).get('/listChats').then(response => response).catch(err => err);
  },
  insertUsers: async (users, chat) => {
    return await request(app).post('/insertUsers').send({
      users,
      chat
    }).then(response => response).catch(err => err);
  },
  listChatUsers: async id => {
    return await request(app).get(`/listChatUsers/${id}`).then(response => response).catch(err => err);
  },
  deleteChat: async id => {
    return await request(app).put(`/deleteChat/${id}`).then(response => response).catch(err => err);
  },
  deleteChatUsers: async (users, id) => {
    return await request(app).put(`/deleteChatUsers`).send({
      users,
      id
    }).then(response => response).catch(err => err);
  },
  //Message Controller
  sendMenssage: async (content, fk_id_user, fk_id_chat) => {
    return await request(app).post('/sendMenssage').send({
      content,
      fk_id_chat,
      fk_id_user
    }).then(response => response).catch(err => err);
  },
  getMessages: async id => {
    return await request(app).get(`/getMessages/${id}`).then(response => response).then(response => response).catch(err => err);
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaUNhbGxzLmpzIl0sIm5hbWVzIjpbInJlcXVlc3QiLCJyZXF1aXJlIiwiYXBwIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlZ2lzdGVyVXNlciIsInVzZXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInBvc3QiLCJzZW5kIiwidGhlbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJlcnIiLCJsaXN0VXNlcnMiLCJnZXQiLCJnZXRVc2VyIiwiaWQiLCJkZWxldGVVc2VyIiwiZGVsZXRlIiwidXBkYXRlVXNlciIsImluZm8iLCJwdXQiLCJsb2dpblVzZXIiLCJyZWdpc3RlckNoYXQiLCJ0aXRsZSIsImxpc3RDaGF0cyIsImluc2VydFVzZXJzIiwidXNlcnMiLCJjaGF0IiwibGlzdENoYXRVc2VycyIsImRlbGV0ZUNoYXQiLCJkZWxldGVDaGF0VXNlcnMiLCJzZW5kTWVuc3NhZ2UiLCJjb250ZW50IiwiZmtfaWRfdXNlciIsImZrX2lkX2NoYXQiLCJnZXRNZXNzYWdlcyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsV0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxlQUFELENBQW5COztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYjtBQUNBQyxFQUFBQSxZQUFZLEVBQUUsT0FBTUMsUUFBTixFQUFnQkMsS0FBaEIsRUFBdUJDLFFBQXZCLEtBQW9DO0FBQzlDLFdBQU8sTUFBTVIsT0FBTyxDQUFDRSxHQUFELENBQVAsQ0FBYU8sSUFBYixDQUFrQixlQUFsQixFQUFtQ0MsSUFBbkMsQ0FBd0M7QUFBQ0osTUFBQUEsUUFBRDtBQUFXQyxNQUFBQSxLQUFYO0FBQWtCQyxNQUFBQTtBQUFsQixLQUF4QyxFQUFxRUcsSUFBckUsQ0FBMEVDLFFBQVEsSUFBSUEsUUFBdEYsRUFBZ0dDLEtBQWhHLENBQXNHQyxHQUFHLElBQUlBLEdBQTdHLENBQWI7QUFDSCxHQUpZO0FBS2JDLEVBQUFBLFNBQVMsRUFB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SUEsR0FBbkgsQ0FBYjtBQUNILEdBOUNZO0FBK0Nid0IsRUFBQUEsV0FBVyxFQUFFLE1BQU1wQixFQUFOLElBQWE7QUFDdEIsV0FBTyxNQUFNbEIsT0FBTyxDQUFDRSxHQUFELENBQVAsQ0FBYWMsR0FBYixDQUFrQixnQkFBZUUsRUFBRyxFQUFwQyxFQUF1Q1AsSUFBdkMsQ0FBNENDLFFBQVEsSUFBSUEsUUFBeEQsRUFDUkQsSUFEUSxDQUNIQyxRQUFRLElBQUlBLFFBRFQsRUFFUkMsS0FGUSxDQUVGQyxHQUFHLElBQUlBLEdBRkwsQ0FBYjtBQUdIO0FBbkRZLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpXHJcbmNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uLy4uL3NyYy9hcHAnKVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICAvLyMjI1VzZXIgQ29udHJvbGxlciMjI1xyXG4gICAgcmVnaXN0ZXJVc2VyOiBhc3luYyh1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcXVlc3QoYXBwKS5wb3N0KCcvcmVnaXN0ZXJVc2VyJykuc2VuZCh7dXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UpLmNhdGNoKGVyciA9PiBlcnIpXHJcbiAgICB9LFxyXG4gICAgbGlzdFVzZXJzOiBhc3luYygpID0+IHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVxdWVzdChhcHApLmdldCgnL2xpc3RVc2VycycpLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UpLmNhdGNoKGVyciA9PiBlcnIpXHJcbiAgICB9LFxyXG4gICAgZ2V0VXNlcjogYXN5bmMoaWQpID0+IHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVxdWVzdChhcHApLmdldChgL2dldFVzZXIvJHtpZH1gKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlKS5jYXRjaChlcnIgPT4gZXJyKVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZVVzZXI6IGFzeW5jKGlkKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcXVlc3QoYXBwKS5kZWxldGUoYC9kZWxldGVVc2VyLyR7aWR9YCkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZSkuY2F0Y2goZXJyID0+IGVycilcclxuICAgIH0sXHJcbiAgICB1cGRhdGVVc2VyOiBhc3luYyhpZCwgaW5mbykgPT4ge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCByZXF1ZXN0KGFwcCkucHV0KGAvdXBkYXRlVXNlci8ke2lkfWApLnNlbmQoaW5mbykudGhlbihyZXNwb25zZSA9PiByZXNwb25zZSkuY2F0Y2goZXJyID0+IGVycilcclxuICAgIH0sXHJcblxyXG4gICAgLy8jIyNTZXNzaW9uIENvbnRyb2xsZXIjIyNcclxuICAgIGxvZ2luVXNlcjogYXN5bmMoZW1haWwsIHBhc3N3b3JkKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcXVlc3QoYXBwKS5wb3N0KCcvbG9naW5Vc2VyJykuc2VuZCh7ZW1haWwsIHBhc3N3b3JkfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZSkuY2F0Y2goZXJyID0+IGVycilcclxuICAgIH0sXHJcblxyXG4gICAgLy8jIyNDaGF0IENvbnRyb2xsZXIjIyNcclxuICAgIHJlZ2lzdGVyQ2hhdDogYXN5bmModGl0bGUpID0+e1xyXG4gICAgICAgIHJldHVybiBhd2FpdCByZXF1ZXN0KGFwcCkucG9zdCgnL3JlZ2lzdGVyQ2hhdCcpLnNlbmQoe3RpdGxlfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZSkuY2F0Y2goZXJyID0+IGVycilcclxuICAgIH0sXHJcbiAgICBsaXN0Q2hhdHMgOiBhc3luYygpID0+e1xyXG4gICAgICAgIHJldHVybiBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvbGlzdENoYXRzJykudGhlbihyZXNwb25zZSA9PiByZXNwb25zZSkuY2F0Y2goZXJyID0+IGVycilcclxuICAgIH0sXHJcbiAgICBpbnNlcnRVc2VyczogYXN5bmModXNlcnMsIGNoYXQpID0+e1xyXG4gICAgICAgIHJldHVybiBhd2FpdCByZXF1ZXN0KGFwcCkucG9zdCgnL2luc2VydFVzZXJzJykuc2VuZCh7dXNlcnMsIGNoYXR9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlKS5jYXRjaChlcnIgPT4gZXJyKVxyXG4gICAgfSxcclxuICAgIGxpc3RDaGF0VXNlcnM6IGFzeW5jKGlkKSA9PntcclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVxdWVzdChhcHApLmdldChgL2xpc3RDaGF0VXNlcnMvJHtpZH1gKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlKS5jYXRjaChlcnIgPT4gZXJyKVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZUNoYXQ6IGFzeW5jKGlkKSA9PntcclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVxdWVzdChhcHApLnB1dChgL2RlbGV0ZUNoYXQvJHtpZH1gKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlKS5jYXRjaChlcnIgPT4gZXJyKVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZUNoYXRVc2VyczogYXN5bmModXNlcnMsIGlkKSA9PntcclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVxdWVzdChhcHApLnB1dChgL2RlbGV0ZUNoYXRVc2Vyc2ApLnNlbmQoe3VzZXJzLCBpZH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UpLmNhdGNoKGVyciA9PiBlcnIpXHJcbiAgICB9LFxyXG5cclxuICAgIC8vTWVzc2FnZSBDb250cm9sbGVyXHJcbiAgICBzZW5kTWVuc3NhZ2U6IGFzeW5jKGNvbnRlbnQsIGZrX2lkX3VzZXIsIGZrX2lkX2NoYXQpID0+IHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVxdWVzdChhcHApLnBvc3QoJy9zZW5kTWVuc3NhZ2UnKS5zZW5kKHtjb250ZW50LCBma19pZF9jaGF0LCBma19pZF91c2VyfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZSkuY2F0Y2goZXJyID0+IGVycilcclxuICAgIH0sXHJcbiAgICBnZXRNZXNzYWdlczogYXN5bmMoaWQpID0+IHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVxdWVzdChhcHApLmdldChgL2dldE1lc3NhZ2VzLyR7aWR9YCkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UpXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gZXJyKVxyXG4gICAgfSxcclxuXHJcbn0iXX0=