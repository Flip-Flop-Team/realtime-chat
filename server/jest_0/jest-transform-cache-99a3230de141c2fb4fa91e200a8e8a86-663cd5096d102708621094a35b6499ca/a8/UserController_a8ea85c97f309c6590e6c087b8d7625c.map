{"version":3,"sources":["UserController.js"],"names":["tbl_users","require","getCatch","module","exports","registerUser","req","res","username","email","password","body","user","create","catch","err","json","listUsers","users","findAll","raw","getUser","id","params","findOne","where","id_user","deleteUser","response","destroy","updateUser","then","update"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,qBAAD,CAAzB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,mBAAD,CAAxB;;AAEAE,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,YAAY,EAAE,OAAMC,GAAN,EAAWC,GAAX,KAAmB;AAC7B,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA,KAAZ;AAAmBC,MAAAA;AAAnB,QAAgCJ,GAAG,CAACK,IAA1C;AACA,UAAMC,IAAI,GAAG,MAAMZ,SAAS,CAACa,MAAV,CAAiB;AAAEL,MAAAA,QAAF;AAAYC,MAAAA,KAAZ;AAAmBC,MAAAA;AAAnB,KAAjB,EAAgDI,KAAhD,CAAsDC,GAAG,IAAIb,QAAQ,CAACa,GAAD,CAArE,CAAnB;AACA,WAAOR,GAAG,CAACS,IAAJ,CAASJ,IAAT,CAAP;AACH,GALY;AAMbK,EAAAA,SAAS,EAAE,OAAMX,GAAN,EAAWC,GAAX,KAAmB;AAC1B,UAAMW,KAAK,GAAG,MAAMlB,SAAS,CAACmB,OAAV,CAAkB;AAACC,MAAAA,GAAG,EAAE;AAAN,KAAlB,EAA+BN,KAA/B,CAAqCC,GAAG,IAAIb,QAAQ,CAACa,GAAD,CAApD,CAApB;AACA,WAAOR,GAAG,CAACS,IAAJ,CAASE,KAAT,CAAP;AACH,GATY;AAUbG,EAAAA,OAAO,EAAE,OAAMf,GAAN,EAAWC,GAAX,KAAmB;AACxB,UAAMe,EAAE,GAAGhB,GAAG,CAACiB,MAAJ,CAAWD,EAAtB;AACA,UAAMV,IAAI,GAAG,MAAMZ,SAAS,CAACwB,OAAV,CAAkB;AAACC,MAAAA,KAAK,EAAC;AAACC,QAAAA,OAAO,EAAGJ;AAAX;AAAP,KAAlB,EAA0CR,KAA1C,CAAgDC,GAAG,IAAIb,QAAQ,CAACa,GAAD,CAA/D,CAAnB;AACA,WAAOR,GAAG,CAACS,IAAJ,CAASJ,IAAT,CAAP;AACH,GAdY;AAebe,EAAAA,UAAU,EAAE,OAAMrB,GAAN,EAAWC,GAAX,KAAmB;AAC3B,UAAMe,EAAE,GAAGhB,GAAG,CAACiB,MAAJ,CAAWD,EAAtB;AACA,UAAMM,QAAQ,GAAG,MAAM5B,SAAS,CAAC6B,OAAV,CAAkB;AAACJ,MAAAA,KAAK,EAAE;AAACC,QAAAA,OAAO,EAAEJ;AAAV;AAAR,KAAlB,EAA0CR,KAA1C,CAAgDC,GAAG,IAAIb,QAAQ,CAACa,GAAD,CAA/D,CAAvB;AACA,WAAOR,GAAG,CAACS,IAAJ,CAASY,QAAT,CAAP;AACH,GAnBY;AAoBbE,EAAAA,UAAU,EAAE,OAAMxB,GAAN,EAAWC,GAAX,KAAmB;AAC3B,UAAMe,EAAE,GAAGhB,GAAG,CAACiB,MAAJ,CAAWD,EAAtB;AACA,UAAMM,QAAQ,GAAG,MAAM5B,SAAS,CAACwB,OAAV,CAAkB;AAACC,MAAAA,KAAK,EAAE;AAACC,QAAAA,OAAO,EAAEJ;AAAV;AAAR,KAAlB,EAA0CS,IAA1C,CAA+C,MAAMnB,IAAN,IAAa;AAC/E,YAAMgB,QAAQ,GAAG,MAAMhB,IAAI,CAACoB,MAAL,CAAY1B,GAAG,CAACK,IAAhB,EAAsBG,KAAtB,CAA4BC,GAAG,IAAIb,QAAQ,CAACa,GAAD,CAA3C,CAAvB;AACA,aAAOa,QAAP;AACH,KAHsB,EAGpBd,KAHoB,CAGdC,GAAG,IAAIb,QAAQ,CAACa,GAAD,CAHD,CAAvB;AAIA,WAAOR,GAAG,CAACS,IAAJ,CAASY,QAAT,CAAP;AACH;AA3BY,CAAjB","sourcesContent":["const tbl_users = require('../models/tbl_users')\r\nconst getCatch = require('../utils/getCatch')\r\n\r\nmodule.exports = {\r\n    registerUser: async(req, res) => {\r\n        const { username, email, password } = req.body\r\n        const user = await tbl_users.create({ username, email, password }).catch(err => getCatch(err))\r\n        return res.json(user)\r\n    },\r\n    listUsers: async(req, res) => {\r\n        const users = await tbl_users.findAll({raw: true}).catch(err => getCatch(err))\r\n        return res.json(users)\r\n    },\r\n    getUser: async(req, res) => {\r\n        const id = req.params.id\r\n        const user = await tbl_users.findOne({where:{id_user : id}}).catch(err => getCatch(err))\r\n        return res.json(user)\r\n    },\r\n    deleteUser: async(req, res) => {\r\n        const id = req.params.id\r\n        const response = await tbl_users.destroy({where: {id_user: id}}).catch(err => getCatch(err))\r\n        return res.json(response)\r\n    },\r\n    updateUser: async(req, res) => {\r\n        const id = req.params.id\r\n        const response = await tbl_users.findOne({where: {id_user: id}}).then(async user =>{\r\n            const response = await user.update(req.body).catch(err => getCatch(err))\r\n            return response\r\n        }).catch(err => getCatch(err))\r\n        return res.json(response)\r\n    }\r\n}"]}